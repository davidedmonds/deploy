{"version":3,"sources":["app/components/App.jsx","app/components/Footer.jsx","app/components/Menu.jsx","app/components/Pipelines.jsx","app/components/Routes.jsx","app/components/StageForm.jsx","app/components/StageVisualiser.jsx","app/components/WebsocketIndicator.jsx","app/constants/DeployConstants.js","app/dispatcher/DeployDispatcher.js","app/initialize.js","app/pages/EditPipeline.jsx","app/pages/Overview.jsx","app/stores/PipelineStore.js"],"names":["App","props","children","Component","Footer","Menu","Pipelines","state","pipelines","map","pipeline","idx","name","version","stages","triggers","prevState","getState","PipelinesContainer","create","Routes","StageForm","stage","handleNameChange","StageVisualiser","trigger","WebsocketIndicator","connected","websocket","WebSocket","onopen","setState","onmessage","console","log","event","data","handleViewAction","JSON","parse","onerror","CompleteState","DeployDispatcher","action","dispatch","source","instance","document","addEventListener","querySelector","EditPipeline","e","preventDefault","concat","params","bind","addStage","getPipeline","EditPipelineContainer","pure","withProps","Overview","CHANGE_EVENT","PipelineStore","_state","filter","type","payload"],"mappings":"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","file":"public/js/app.js","sourcesContent":["//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport Container from 'muicss/lib/react/container';\r\n\r\nimport Menu from './Menu'\r\nimport Footer from './Footer'\r\nimport Overview from '../pages/Overview'\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"content\">\r\n        <Menu />\r\n        <div className=\"mui--appbar-min-height\">&nbsp;</div>\r\n        <Container fluid={true}>\r\n          {this.props.children}\r\n        </Container>\r\n        <Container fluid={true}>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        Deploy v1. <a href=\"https://github.com/davidedmonds/deploy\">Source on Github</a>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport Appbar from 'muicss/lib/react/appbar';\r\nimport WebsocketIndicator from './WebsocketIndicator'\r\n\r\nexport default class Menu extends React.Component {\r\n  render() {\r\n    return (\r\n      <Appbar>\r\n        <nav className=\"mui--text-title\">\r\n          <span className=\"mui--appbar-line-height\">=</span>\r\n          <ul className=\"mui--appbar-line-height mui-list--inline\">\r\n            <li>Deploy</li>\r\n            <li>Home</li>\r\n          </ul>\r\n          <WebsocketIndicator />\r\n        </nav>\r\n      </Appbar>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport { Container as FluxContainer } from 'flux/utils';\r\nimport { Link } from 'react-router';\r\nimport Button from 'muicss/lib/react/button';\r\nimport Panel from 'muicss/lib/react/panel';\r\nimport Container from 'muicss/lib/react/container';\r\nimport Row from 'muicss/lib/react/row';\r\nimport Col from 'muicss/lib/react/col';\r\n\r\nimport PipelineStore from '../stores/PipelineStore'\r\nimport StageVisualiser from '../components/StageVisualiser'\r\n\r\nclass Pipelines extends React.Component {\r\n  static getStores() {\r\n    return [PipelineStore]\r\n  }\r\n\r\n  static calculateState(prevState) {\r\n    return {\r\n      pipelines: PipelineStore.getState()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>{\r\n        this.state.pipelines.map((pipeline, idx) => {\r\n          return (\r\n            <Panel key={idx}>\r\n              <Container fluid={true}>\r\n                <Row>\r\n                  <Col md=\"6\"><h2>{pipeline.name}</h2></Col>\r\n                  <Col md=\"6\"><h2 className=\"version\">{pipeline.version}</h2></Col>\r\n                </Row>\r\n              </Container>\r\n              <hr/>\r\n              <StageVisualiser stages={pipeline.stages} triggers={pipeline.triggers} />\r\n              <hr/>\r\n              <Link to={\"/pipeline/edit/\" + pipeline.name}>\r\n                <Button color=\"primary\">Edit Pipeline</Button>\r\n              </Link>\r\n            </Panel>\r\n          )\r\n        })\r\n      }</div>\r\n    )\r\n  }\r\n}\r\n\r\nconst PipelinesContainer = FluxContainer.create(Pipelines)\r\nexport default PipelinesContainer\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport App from 'components/App';\r\nimport Overview from 'pages/Overview'\r\nimport EditPipeline from 'pages/EditPipeline'\r\nimport { Router, Route, IndexRoute, browserHistory } from 'react-router'\r\n\r\nexport default class Routes extends React.Component {\r\n  render() {\r\n    return (\r\n      <Router history={browserHistory}>\r\n        <Route path=\"/\" component={App}>\r\n          <IndexRoute component={Overview} />\r\n          <Route path=\"pipeline/edit/:name\" component={EditPipeline} />\r\n        </Route>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport Input from 'muicss/lib/react/input';\r\nimport Panel from 'muicss/lib/react/panel';\r\n\r\nexport default class StageForm extends React.Component {\r\n  render() {\r\n    return (\r\n      <Panel>\r\n        <Input required=\"required\"\r\n               label=\"Stage Name\"\r\n               defaultValue={this.props.stage.name}\r\n               onChange={this.handleNameChange} />\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\n\r\nexport default class StageVisualiser extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"stage-vis\">\r\n        <svg width=\"100%\" height=\"100%\">\r\n          {/* TODO extract this filter */}\r\n          <filter id=\"dropShadow\" width=\"150%\" height=\"150%\">\r\n            {/* General Glow */}\r\n            <feComponentTransfer in=\"SourceAlpha\">\r\n              <feFuncA type=\"linear\" slope=\"0.2\"/>\r\n            </feComponentTransfer>\r\n            <feGaussianBlur stdDeviation=\"2\" out=\"GeneralGlow\"/>\r\n            {/* Main shadow */}\r\n            <feOffset in=\"SourceAlpha\" dx=\"0\" dy=\"2\"/>\r\n            <feComponentTransfer>\r\n              <feFuncA type=\"linear\" slope=\"0.2\"/>\r\n            </feComponentTransfer>\r\n            <feGaussianBlur stdDeviation=\"2\" out=\"MainShadow\"/>\r\n            <feMerge>\r\n              <feMergeNode in=\"GeneralGlow\"/>\r\n              <feMergeNode in=\"MainShadow\"/>\r\n              <feMergeNode in=\"SourceGraphic\"/>\r\n            </feMerge>\r\n          </filter>\r\n          {this.props.triggers.map((trigger, idx) => {\r\n            return (<g key={idx}>\r\n              <rect x=\"10\" y={10 + (idx * 40)} width=\"130\" height=\"30\" fill=\"#fff\" filter=\"url(#dropShadow)\" rx=\"15\" ry=\"15\"/>\r\n              <text x=\"75\" y={30 + (idx * 40)} textAnchor=\"middle\">github-listener</text>\r\n            </g>)\r\n          })}\r\n          {this.props.stages.map((stage, idx) => {\r\n            return (<g key={idx}>\r\n              <rect x={160 + (idx * 150)} y=\"10\" width=\"130\" height=\"30\" fill=\"#fff\" filter=\"url(#dropShadow)\"/>\r\n              <text x={225 + (idx * 150)} y=\"30\" textAnchor=\"middle\">{stage.name}</text>\r\n            </g>)\r\n          })}\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport DeployDispatcher from '../dispatcher/DeployDispatcher'\r\n\r\nexport default class WebsocketIndicator extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {connected: false}\r\n  }\r\n\r\n  componentDidMount() {\r\n    //TODO move this into a store eventually\r\n    var websocket = new WebSocket(\"ws://localhost:54321/client\")\r\n    \r\n    websocket.onopen = event => {\r\n      this.setState({connected: true})\r\n    };\r\n    websocket.onmessage = event => {\r\n      console.log(event.data)\r\n      DeployDispatcher.handleViewAction(JSON.parse(event.data))\r\n    }\r\n    websocket.onerror = () => {\r\n      console.log(arguments);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span className=\"mui--appbar-line-height\">\r\n        {this.state.connected ? \"Connected\" : \"Disconnected\" }\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","export const CompleteState = \"completeState\"\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport { Dispatcher } from 'flux';\r\n\r\nclass DeployDispatcher extends Dispatcher {\r\n  handleViewAction(action) {\r\n    this.dispatch({\r\n      source: \"VIEW_ACTION\",\r\n      action: action\r\n    })\r\n  }\r\n}\r\n\r\nconst instance = new DeployDispatcher()\r\nexport default instance\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport { render } from 'react-dom';\r\nimport React from 'react';\r\nimport Routes from 'components/Routes'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  render((<Routes />), document.querySelector('#app'))\r\n});\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\n\r\nimport Button from 'muicss/lib/react/button';\r\nimport Form from 'muicss/lib/react/form';\r\nimport Input from 'muicss/lib/react/input';\r\nimport Panel from 'muicss/lib/react/panel';\r\n\r\nimport { Container } from 'flux/utils';\r\n\r\nimport PipelineStore from '../stores/PipelineStore'\r\nimport Pipelines from '../components/Pipelines'\r\nimport StageForm from '../components/StageForm'\r\n\r\nclass EditPipeline extends React.Component {\r\n  static getStores() {\r\n    return [PipelineStore]\r\n  }\r\n\r\n  static calculateState(prevState, props) {\r\n    return {\r\n      pipeline: PipelineStore.getPipeline(props.params.name)\r\n    }\r\n  }\r\n\r\n  addStage(e) {\r\n    e.preventDefault();\r\n    this.setState({stages: this.state.pipeline.stages.concat([{}])})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Panel>\r\n        <Form>\r\n          <Input required=\"required\"\r\n                 label=\"Pipeline Name\"\r\n                 defaultValue={this.state.pipeline.name || this.props.params.name} />\r\n           <div id=\"stages\">{this.state.pipeline.stages.map(function(stage, idx) {\r\n             return (\r\n               <StageForm stage={stage} key={idx} />\r\n             )\r\n           }.bind(this))}</div>\r\n           <Button color=\"primary\" onClick={this.addStage.bind(this)}>\r\n             Add Stage\r\n           </Button>\r\n          <hr/>\r\n          <Button color=\"primary\">Save Pipeline</Button>\r\n        </Form>\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nconst EditPipelineContainer = Container.create(EditPipeline, {pure: false, withProps: true})\r\nexport default EditPipelineContainer\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport React from 'react';\r\nimport Button from 'muicss/lib/react/button';\r\nimport Pipelines from '../components/Pipelines'\r\n\r\nexport default class Overview extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Pipelines />\r\n        <div className=\"action\">\r\n          <Button variant=\"fab\" color=\"accent\">+</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//\n// Deploy - Continuous Delivery, Faster\r\n// Copyright (C) 2016 by David Edmonds\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published\r\n// by the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n//\r\n\r\nimport { ReduceStore } from 'flux/utils'\r\nimport { CompleteState } from '../constants/DeployConstants'\r\nimport DeployDispatcher from '../dispatcher/DeployDispatcher'\r\n\r\nvar CHANGE_EVENT = \"change\"\r\n\r\nclass PipelineStore extends ReduceStore<Array> {\r\n  getInitialState() {\r\n    return [];\r\n  }\r\n\r\n  getPipeline(name) {\r\n    //TODO if performance requires, make this store a map and lookup here instead\r\n    return this._state.filter((pipeline) => {\r\n      return pipeline.name === name\r\n    })[0] || {stages: []};\r\n  }\r\n\r\n  reduce(state, action) {\r\n    switch (action.action.type) {\r\n      case CompleteState:\r\n        return action.action.payload.pipelines;\r\n      default:\r\n        console.log(\"Recieved Unhandled Action\", action)\r\n        return state;\r\n    }\r\n  }\r\n}\r\n\r\nconst instance = new PipelineStore(DeployDispatcher);\r\nexport default instance;\r\n"]}